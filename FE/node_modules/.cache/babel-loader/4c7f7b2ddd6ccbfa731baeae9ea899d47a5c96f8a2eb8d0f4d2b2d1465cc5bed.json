{"ast":null,"code":"var _jsxFileName = \"/Volumes/WiniMK/Wini Muthia Kansha/STMIK ANTAR BANGSA/Kuliah/Semester 3/Framework Programming/UAS/Cybernet-FE-UAS/src/components/TableHistoriTransaksiAdm.js\",\n  _s = $RefreshSig$();\nimport { React, useEffect, useState } from \"react\";\nimport { Button, Table } from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TableHistoriTransaksiAdm() {\n  _s();\n  const [data, setData] = useState([]);\n  const history = useNavigate();\n  useEffect(() => {\n    fetchHTransaksi();\n  }, []);\n  const fetchHTransaksi = async e => {\n    let token = sessionStorage.getItem(\"access_token\");\n\n    //Admin\n    let get_session = JSON.parse(sessionStorage.getItem(\"data\"));\n    let id_user = get_session.data.id;\n    fetch(\"http://127.0.0.1:8000/api/get_tran_by_customer/\" + id_user, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      }\n    }).then(res => res.json()).then(json => {\n      setData(json.data);\n    }, error => {\n      alert(error);\n    });\n  };\n  // const edit = (id) => {\n  //   history(\"/useredit\", { state: { id } });\n  // };\n  // const deletef = (id) => {\n  //   Swal.fire({\n  //     title: \"Apakah anda yakin ?\",\n  //     text: \"Akan menghapus data ini\",\n  //     icon: \"warning\",\n  //     showCancelButton: true,\n  //     confirmButtonColor: \"#3085d6\",\n  //     cancelButtonColor: \"#d33\",\n  //     confirmButtonText: \"Ya\",\n  //   }).then((result) => {\n  //     if (result.isConfirmed) {\n  //       let token = sessionStorage.getItem(\"access_token\");\n  //       fetch(\"http://127.0.0.1:8000/api/delete/\" + id, {\n  //         method: \"GET\",\n  //         headers: {\n  //           Authorization: `Bearer ${token}`,\n  //           \"Content-Type\": \"application/json\",\n  //           Accept: \"application/json\",\n  //         },\n  //       })\n  //         .then((res) => res.json())\n  //         .then(\n  //           (json) => {\n  //             Swal.fire(\"Deleted!\", \"Deleted Successfully.\", \"success\");\n  //             fetchHTransaksi();\n  //           },\n  //           (error) => {\n  //             alert(error);\n  //           }\n  //         );\n  //     }\n  //   });\n  // };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      striped: true,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ID Transaksi ini yaa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Tanggal Transaksi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Nama Pelanggan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Alamat Pelanggan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"No Telepon Pelanggan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Nama Paket\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Lama Berlangganan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Kecepatan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Harga Satuan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Diskon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: data.map(data => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: data.id_transaksi\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: data.tgl_transaksi\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: data.nama_paket\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: data.lama\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [data.kecepatan, \" Mbps\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\"Rp. \", data.harga]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [data.disc, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\"Rp. \", data.total]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)]\n        }, data.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n_s(TableHistoriTransaksiAdm, \"8i1OlZZG5jM95oOSt6YYaYxBo3w=\", false, function () {\n  return [useNavigate];\n});\n_c = TableHistoriTransaksiAdm;\nvar _c;\n$RefreshReg$(_c, \"TableHistoriTransaksiAdm\");","map":{"version":3,"names":["React","useEffect","useState","Button","Table","useNavigate","Swal","TableHistoriTransaksiAdm","data","setData","history","fetchHTransaksi","e","token","sessionStorage","getItem","get_session","JSON","parse","id_user","id","fetch","method","headers","Authorization","Accept","then","res","json","error","alert","map","id_transaksi","tgl_transaksi","nama_paket","lama","kecepatan","harga","disc","total"],"sources":["/Volumes/WiniMK/Wini Muthia Kansha/STMIK ANTAR BANGSA/Kuliah/Semester 3/Framework Programming/UAS/Cybernet-FE-UAS/src/components/TableHistoriTransaksiAdm.js"],"sourcesContent":["import { React, useEffect, useState } from \"react\";\r\nimport { Button, Table } from \"react-bootstrap\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nexport default function TableHistoriTransaksiAdm() {\r\n  const [data, setData] = useState([]);\r\n  const history = useNavigate();\r\n  useEffect(() => {\r\n    fetchHTransaksi();\r\n  }, []);\r\n  const fetchHTransaksi = async (e) => {\r\n    let token = sessionStorage.getItem(\"access_token\");\r\n\r\n    //Admin\r\n    let get_session = JSON.parse(sessionStorage.getItem(\"data\"));\r\n    let id_user = get_session.data.id;\r\n\r\n    fetch(\"http://127.0.0.1:8000/api/get_tran_by_customer/\" + id_user, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then(\r\n        (json) => {\r\n          setData(json.data);\r\n        },\r\n        (error) => {\r\n          alert(error);\r\n        }\r\n      );\r\n  };\r\n  // const edit = (id) => {\r\n  //   history(\"/useredit\", { state: { id } });\r\n  // };\r\n  // const deletef = (id) => {\r\n  //   Swal.fire({\r\n  //     title: \"Apakah anda yakin ?\",\r\n  //     text: \"Akan menghapus data ini\",\r\n  //     icon: \"warning\",\r\n  //     showCancelButton: true,\r\n  //     confirmButtonColor: \"#3085d6\",\r\n  //     cancelButtonColor: \"#d33\",\r\n  //     confirmButtonText: \"Ya\",\r\n  //   }).then((result) => {\r\n  //     if (result.isConfirmed) {\r\n  //       let token = sessionStorage.getItem(\"access_token\");\r\n  //       fetch(\"http://127.0.0.1:8000/api/delete/\" + id, {\r\n  //         method: \"GET\",\r\n  //         headers: {\r\n  //           Authorization: `Bearer ${token}`,\r\n  //           \"Content-Type\": \"application/json\",\r\n  //           Accept: \"application/json\",\r\n  //         },\r\n  //       })\r\n  //         .then((res) => res.json())\r\n  //         .then(\r\n  //           (json) => {\r\n  //             Swal.fire(\"Deleted!\", \"Deleted Successfully.\", \"success\");\r\n  //             fetchHTransaksi();\r\n  //           },\r\n  //           (error) => {\r\n  //             alert(error);\r\n  //           }\r\n  //         );\r\n  //     }\r\n  //   });\r\n  // };\r\n\r\n  return (\r\n    <div>\r\n      <Table striped>\r\n        <thead>\r\n          <tr>\r\n            <th>ID Transaksi ini yaa</th>\r\n            <th>Tanggal Transaksi</th>\r\n            <th>Nama Pelanggan</th>\r\n            <th>Alamat Pelanggan</th>\r\n            <th>No Telepon Pelanggan</th>\r\n            <th>Nama Paket</th>\r\n            <th>Lama Berlangganan</th>\r\n            <th>Kecepatan</th>\r\n            <th>Harga Satuan</th>\r\n            <th>Diskon</th>\r\n            <th>Total</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {data.map((data) => (\r\n            <tr key={data.id}>\r\n              <td>{data.id_transaksi}</td>\r\n              <td>{data.tgl_transaksi}</td>\r\n              <td>{data.nama_paket}</td>\r\n              <td>{data.lama}</td>\r\n              <td>{data.kecepatan} Mbps</td>\r\n              <td>Rp. {data.harga}</td>\r\n              <td>{data.disc}%</td>\r\n              <td>Rp. {data.total}</td>\r\n              {/* <td>\r\n                #\r\n                <Button onClick={(e) => edit(data.id)}>Edit</Button>\r\n                <Button onClick={(e) => deletef(data.id)} className=\"bg-danger\">\r\n                  Delete\r\n                </Button>\r\n              </td> */}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </Table>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}