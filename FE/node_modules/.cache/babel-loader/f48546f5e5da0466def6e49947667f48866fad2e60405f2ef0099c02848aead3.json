{"ast":null,"code":"var _jsxFileName = \"/Volumes/WiniMK/Wini Muthia Kansha/STMIK ANTAR BANGSA/Kuliah/Semester 3/Framework Programming/UAS/Cybernet-FE-UAS/src/pages/FormPaket.js\",\n  _s2 = $RefreshSig$();\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FormPaket() {\n  _s2();\n  var _s = $RefreshSig$();\n  const [dtjnsform, setJnsform] = useState(\"tambah\");\n  const [dtsession, setDtsession] = useState(null);\n  const [dtnama, setNama] = useState(\"\");\n  const [dtrole, setRole] = useState(\"\");\n  const history = useNavigate();\n  const Form = async e => {\n    e.preventDefault();\n    let result = await fetch(\"http://127.0.0.1:8000/api/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify({\n        email: email,\n        password: password\n      })\n    }).then(res => res.json()).then(json => {\n      // console.log(\"ini respon\");\n      // console.log(email);\n      // console.log(password);\n\n      //set Session Storage\n      sessionStorage.setItem(\"access_token\", json.access_token);\n      sessionStorage.setItem(\"data\", JSON.stringify(json));\n      if (json.hasOwnProperty(\"error\")) {\n        if (!json.error) {\n          Swal.fire({\n            position: \"top-center\",\n            icon: \"success\",\n            title: \"Login Success\",\n            showConfirmButton: false,\n            timer: 1500\n          });\n          history(\"/dashboard\");\n        } else {\n          Swal.fire({\n            position: \"top-center\",\n            icon: \"error\",\n            title: \"Login Failed\",\n            showConfirmButton: false,\n            html: json.message,\n            timer: 1500\n          });\n        }\n      } else {\n        Swal.fire({\n          position: \"top-center\",\n          icon: \"error\",\n          title: \"Login Failed\",\n          showConfirmButton: false,\n          html: json.message,\n          timer: 1500\n        });\n      }\n    });\n  };\n  _s(useEffect(_s(() => {\n    _s();\n    if (sessionStorage.getItem(\"access_token\") == null || sessionStorage.getItem(\"access_token\") == \"undefined\") {\n      Swal.fire({\n        position: \"top-center\",\n        icon: \"info\",\n        title: \"Just Info\",\n        html: \"Anda belum login\",\n        showConfirmButton: false,\n        timer: 2000\n      });\n      history(\"/\");\n    } else {\n      let get_dtsession = JSON.parse(sessionStorage.getItem(\"data\"));\n      setDtsession(get_dtsession);\n      setNama(get_dtsession.data.name);\n      setRole(get_dtsession.data.role);\n      if (get_dtsession.data.role != \"admin\") {\n        Swal.fire({\n          position: \"top-center\",\n          icon: \"info\",\n          title: \"Just Info\",\n          html: \"Anda tidak bisa mengubah CRUD Paket, Anda bukan admin\",\n          showConfirmButton: false,\n          timer: 2000\n        });\n        history(\"/\");\n      }\n      const location = useLocation();\n      console.log(\"wini disini\");\n      console.log(location.state);\n\n      // const [idPaket, setIdPaket] = useState(location.state.idpaketitem);\n    }\n  }, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n    return [useLocation];\n  }), []), \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n    return [useLocation];\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4 shadow-sm p-3 mb-5 bg-white rounded\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Form Tambah Paket\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n}\n_s2(FormPaket, \"D4sBxDGyDXKYWpRqGx/n8yuZRNg=\", false, function () {\n  return [useNavigate];\n});\n_c = FormPaket;\nvar _c;\n$RefreshReg$(_c, \"FormPaket\");","map":{"version":3,"names":["React","useState","useEffect","Button","Form","Link","useLocation","useNavigate","Swal","FormPaket","dtjnsform","setJnsform","dtsession","setDtsession","dtnama","setNama","dtrole","setRole","history","e","preventDefault","result","fetch","method","headers","Accept","body","JSON","stringify","email","password","then","res","json","sessionStorage","setItem","access_token","hasOwnProperty","error","fire","position","icon","title","showConfirmButton","timer","html","message","getItem","get_dtsession","parse","data","name","role","location","console","log","state"],"sources":["/Volumes/WiniMK/Wini Muthia Kansha/STMIK ANTAR BANGSA/Kuliah/Semester 3/Framework Programming/UAS/Cybernet-FE-UAS/src/pages/FormPaket.js"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\n\nexport default function FormPaket() {\n  const [dtjnsform, setJnsform] = useState(\"tambah\");\n  const [dtsession, setDtsession] = useState(null);\n  const [dtnama, setNama] = useState(\"\");\n  const [dtrole, setRole] = useState(\"\");\n  const history = useNavigate();\n\n  const Form = async (e) => {\n    e.preventDefault();\n    let result = await fetch(\"http://127.0.0.1:8000/api/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n      body: JSON.stringify({\n        email: email,\n        password: password,\n      }),\n    })\n      .then((res) => res.json())\n      .then((json) => {\n        // console.log(\"ini respon\");\n        // console.log(email);\n        // console.log(password);\n\n        //set Session Storage\n        sessionStorage.setItem(\"access_token\", json.access_token);\n        sessionStorage.setItem(\"data\", JSON.stringify(json));\n\n        if (json.hasOwnProperty(\"error\")) {\n          if (!json.error) {\n            Swal.fire({\n              position: \"top-center\",\n              icon: \"success\",\n              title: \"Login Success\",\n              showConfirmButton: false,\n              timer: 1500,\n            });\n            history(\"/dashboard\");\n          } else {\n            Swal.fire({\n              position: \"top-center\",\n              icon: \"error\",\n              title: \"Login Failed\",\n              showConfirmButton: false,\n              html: json.message,\n              timer: 1500,\n            });\n          }\n        } else {\n          Swal.fire({\n            position: \"top-center\",\n            icon: \"error\",\n            title: \"Login Failed\",\n            showConfirmButton: false,\n            html: json.message,\n            timer: 1500,\n          });\n        }\n      });\n  };\n\n  useEffect(() => {\n    if (\n      sessionStorage.getItem(\"access_token\") == null ||\n      sessionStorage.getItem(\"access_token\") == \"undefined\"\n    ) {\n      Swal.fire({\n        position: \"top-center\",\n        icon: \"info\",\n        title: \"Just Info\",\n        html: \"Anda belum login\",\n        showConfirmButton: false,\n        timer: 2000,\n      });\n      history(\"/\");\n    } else {\n      let get_dtsession = JSON.parse(sessionStorage.getItem(\"data\"));\n      setDtsession(get_dtsession);\n      setNama(get_dtsession.data.name);\n      setRole(get_dtsession.data.role);\n\n      if (get_dtsession.data.role != \"admin\") {\n        Swal.fire({\n          position: \"top-center\",\n          icon: \"info\",\n          title: \"Just Info\",\n          html: \"Anda tidak bisa mengubah CRUD Paket, Anda bukan admin\",\n          showConfirmButton: false,\n          timer: 2000,\n        });\n        history(\"/\");\n      }\n\n      const location = useLocation();\n      console.log(\"wini disini\");\n      console.log(location.state);\n\n      // const [idPaket, setIdPaket] = useState(location.state.idpaketitem);\n    }\n  }, []);\n  return (\n    <div className=\"container mt-4 shadow-sm p-3 mb-5 bg-white rounded\">\n      <h3>Form Tambah Paket</h3>\n      <br />\n      {/* <Form onSubmit={Auth}>\n        <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n          <Form.Label>Email address</Form.Label>\n          <Form.Control\n            type=\"email\"\n            placeholder=\"Enter email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n          <Form.Text className=\"text-muted\"></Form.Text>\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </Form.Group>\n        <Form.Group className=\"mb-3\" controlId=\"formBasicCheckbox\">\n          <Form.Check type=\"checkbox\" label=\"Check me out\" />\n        </Form.Group>\n        <Button variant=\"primary\" type=\"submit\">\n          Submit\n        </Button>\n        <br />\n        <br />\n        <p>\n          Belum punya akun?{\" \"}\n          <Link to={\"/register\"}>\n            <b style={{ color: \"darkblue\" }}>Register disini</b>\n          </Link>\n        </p>\n      </Form> */}\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,MAAM,EAAEC,IAAI,QAAQ,iBAAiB;AAC9C,SAASC,IAAI,QAAQ,kBAAkB;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,IAAI,MAAM,aAAa;AAAC;AAE/B,eAAe,SAASC,SAAS,GAAG;EAAA;EAAA;EAClC,MAAM,CAACC,SAAS,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,QAAQ,CAAC;EAClD,MAAM,CAACW,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACa,MAAM,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACe,MAAM,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMiB,OAAO,GAAGX,WAAW,EAAE;EAE7B,MAAMH,IAAI,GAAG,MAAOe,CAAC,IAAK;IACxBA,CAAC,CAACC,cAAc,EAAE;IAClB,IAAIC,MAAM,GAAG,MAAMC,KAAK,CAAC,iCAAiC,EAAE;MAC1DC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClCC,MAAM,EAAE;MACV,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBC,KAAK,EAAEA,KAAK;QACZC,QAAQ,EAAEA;MACZ,CAAC;IACH,CAAC,CAAC,CACCC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC,CACzBF,IAAI,CAAEE,IAAI,IAAK;MACd;MACA;MACA;;MAEA;MACAC,cAAc,CAACC,OAAO,CAAC,cAAc,EAAEF,IAAI,CAACG,YAAY,CAAC;MACzDF,cAAc,CAACC,OAAO,CAAC,MAAM,EAAER,IAAI,CAACC,SAAS,CAACK,IAAI,CAAC,CAAC;MAEpD,IAAIA,IAAI,CAACI,cAAc,CAAC,OAAO,CAAC,EAAE;QAChC,IAAI,CAACJ,IAAI,CAACK,KAAK,EAAE;UACf9B,IAAI,CAAC+B,IAAI,CAAC;YACRC,QAAQ,EAAE,YAAY;YACtBC,IAAI,EAAE,SAAS;YACfC,KAAK,EAAE,eAAe;YACtBC,iBAAiB,EAAE,KAAK;YACxBC,KAAK,EAAE;UACT,CAAC,CAAC;UACF1B,OAAO,CAAC,YAAY,CAAC;QACvB,CAAC,MAAM;UACLV,IAAI,CAAC+B,IAAI,CAAC;YACRC,QAAQ,EAAE,YAAY;YACtBC,IAAI,EAAE,OAAO;YACbC,KAAK,EAAE,cAAc;YACrBC,iBAAiB,EAAE,KAAK;YACxBE,IAAI,EAAEZ,IAAI,CAACa,OAAO;YAClBF,KAAK,EAAE;UACT,CAAC,CAAC;QACJ;MACF,CAAC,MAAM;QACLpC,IAAI,CAAC+B,IAAI,CAAC;UACRC,QAAQ,EAAE,YAAY;UACtBC,IAAI,EAAE,OAAO;UACbC,KAAK,EAAE,cAAc;UACrBC,iBAAiB,EAAE,KAAK;UACxBE,IAAI,EAAEZ,IAAI,CAACa,OAAO;UAClBF,KAAK,EAAE;QACT,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;EACN,CAAC;EAED,GAAA1C,SAAS,IAAC,MAAM;IAAA;IACd,IACEgC,cAAc,CAACa,OAAO,CAAC,cAAc,CAAC,IAAI,IAAI,IAC9Cb,cAAc,CAACa,OAAO,CAAC,cAAc,CAAC,IAAI,WAAW,EACrD;MACAvC,IAAI,CAAC+B,IAAI,CAAC;QACRC,QAAQ,EAAE,YAAY;QACtBC,IAAI,EAAE,MAAM;QACZC,KAAK,EAAE,WAAW;QAClBG,IAAI,EAAE,kBAAkB;QACxBF,iBAAiB,EAAE,KAAK;QACxBC,KAAK,EAAE;MACT,CAAC,CAAC;MACF1B,OAAO,CAAC,GAAG,CAAC;IACd,CAAC,MAAM;MACL,IAAI8B,aAAa,GAAGrB,IAAI,CAACsB,KAAK,CAACf,cAAc,CAACa,OAAO,CAAC,MAAM,CAAC,CAAC;MAC9DlC,YAAY,CAACmC,aAAa,CAAC;MAC3BjC,OAAO,CAACiC,aAAa,CAACE,IAAI,CAACC,IAAI,CAAC;MAChClC,OAAO,CAAC+B,aAAa,CAACE,IAAI,CAACE,IAAI,CAAC;MAEhC,IAAIJ,aAAa,CAACE,IAAI,CAACE,IAAI,IAAI,OAAO,EAAE;QACtC5C,IAAI,CAAC+B,IAAI,CAAC;UACRC,QAAQ,EAAE,YAAY;UACtBC,IAAI,EAAE,MAAM;UACZC,KAAK,EAAE,WAAW;UAClBG,IAAI,EAAE,uDAAuD;UAC7DF,iBAAiB,EAAE,KAAK;UACxBC,KAAK,EAAE;QACT,CAAC,CAAC;QACF1B,OAAO,CAAC,GAAG,CAAC;MACd;MAEA,MAAMmC,QAAQ,GAAG/C,WAAW,EAAE;MAC9BgD,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;MAC1BD,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,KAAK,CAAC;;MAE3B;IACF;EACF,CAAC;IAAA,QANoBlD,WAAW;EAAA,IAM7B,EAAE,CAAC;IAAA,QANeA,WAAW;EAAA;EAOhC,oBACE;IAAK,SAAS,EAAC,oDAAoD;IAAA,wBACjE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAA0B,eAC1B;MAAA;MAAA;MAAA;IAAA,QAAM;EAAA;IAAA;IAAA;IAAA;EAAA,QAqCF;AAEV;AAAC,IAhJuBG,SAAS;EAAA,QAKfF,WAAW;AAAA;AAAA,KALLE,SAAS;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}